(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{540:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("blockquote",[a("p",[s._v("自购 服务器 & 域名 & 证书 & 部署 & jenkins 费钱又费力")])]),s._v(" "),a("blockquote",[a("p",[s._v("用githubPage部署，一分钱不花，域名 & HTTPS 带回家")])]),s._v(" "),a("h3",{attrs:{id:"_0-电脑已配置好-ssh密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-电脑已配置好-ssh密钥"}},[s._v("#")]),s._v(" 0. 电脑已配置好.ssh密钥")]),s._v(" "),a("blockquote",[a("p",[s._v("在 Github.Settings.SSH and GPG keys中添加")])]),s._v(" "),a("p",[a("a",{attrs:{href:"https://wangdoc.com/ssh/key.html#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95",target:"_blank",rel:"noopener noreferrer"}},[s._v("SSH 密钥登录(用于git中免用户名密码的认证)"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://blog.csdn.net/aachangs/article/details/80869833",target:"_blank",rel:"noopener noreferrer"}},[s._v("windows 10 github 配置.ssh秘钥"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"_1-自行创建repository-username-github-io"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-自行创建repository-username-github-io"}},[s._v("#")]),s._v(" 1. 自行创建Repository: [username].github.io")]),s._v(" "),a("blockquote",[a("p",[s._v("无图，一般来说，权限为public，不需要README.md")])]),s._v(" "),a("h3",{attrs:{id:"_2-package-json-中添加部署命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-package-json-中添加部署命令"}},[s._v("#")]),s._v(" 2. package.json 中添加部署命令")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"start"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress dev docs --temp .temp"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# temp 用于热部署")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress build docs"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 我的打包命令叫build")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vuepress dev docs"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"deploy-github"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GH=1 yarn build && bash scripts/deploy-github.sh"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个是部署命令!!")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node test/test.js"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n")])])]),a("h3",{attrs:{id:"_3-创建部署脚本文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-创建部署脚本文件"}},[s._v("#")]),s._v(" 3. 创建部署脚本文件")]),s._v(" "),a("blockquote",[a("p",[s._v("根据步骤2的命令，我需要在项目目录下创建scripts文件夹，新建 deploy-github.sh")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env sh")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确保脚本抛出遇到的错误")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -e\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行打包命令，生成静态文件，步骤2中打包命令为build")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入打包目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" docs/.vuepress/dist\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果是发布到自定义域名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo 'www.example.com' > CNAME")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -A\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'deploy'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果发布到 https://<USERNAME>.github.io")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -f git@github.com:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("yourUsername"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("yourUsername"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(".github.io.git master\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果发布到 https://<USERNAME>.github.io/<REPO>")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# git push -f git@github.com:<USERNAME>/<REPO>.git master:gh-pages")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" -\n")])])]),a("h3",{attrs:{id:"_4-运行部署命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-运行部署命令"}},[s._v("#")]),s._v(" 4. 运行部署命令")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" deploy-github  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 二选一")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run deploy-github\n")])])]),a("h3",{attrs:{id:"_5-等几分钟后访问-https-username-github-io"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-等几分钟后访问-https-username-github-io"}},[s._v("#")]),s._v(" 5. 等几分钟后访问 https://[username].github.io/")]),s._v(" "),a("p",[s._v("结束啦，很简单吧😄")])])}),[],!1,null,null,null);t.default=e.exports}}]);