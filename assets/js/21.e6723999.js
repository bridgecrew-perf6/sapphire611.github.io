(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{543:function(t,s,n){"use strict";n.r(s);var a=n(4),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"安装-启动"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装-启动"}},[t._v("#")]),t._v(" 安装 & 启动")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.jianshu.com/p/9f2c162ac77c",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux下安装Nginx"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/109257078",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux安装Nginx详细教程"),n("OutboundLink")],1)]),t._v(" "),n("blockquote",[n("p",[t._v("进入 /usr/local/nginx/sbin，执行：")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("./nginx\n")])])]),n("h2",{attrs:{id:"简易反向代理配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#简易反向代理配置"}},[t._v("#")]),t._v(" 简易反向代理配置")]),t._v(" "),n("blockquote",[n("p",[t._v("修改主配置文件 /usr/local/nginx/conf/nginx.conf 中的 server{} 中的内容")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("# 内部转发到3000端口\nlocation / {\n     proxy_pass http://127.0.0.1:3000/; \n}\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"}),n("p",[t._v("记得要回到/usr/local/nginx/sbin中重启：")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.php.cn/nginx/423144.html#:~:text=linux%E9%87%8D%E5%90%AFnginx%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%9A%E8%BF%9B%E5%85%A5nginx%E5%8F%AF%E6%89%A7%E8%A1%8C%E7%9B%AE%E5%BD%95bin%E4%B8%8B%EF%BC%8C%E8%BE%93%E5%85%A5%E5%91%BD%E4%BB%A4.%2Fnginx%20-s,reload%E5%8D%B3%E5%8F%AF%E3%80%822%E3%80%81%E6%9F%A5%E6%89%BE%E5%BD%93%E5%89%8Dnginx%E8%BF%9B%E7%A8%8B%E5%8F%B7%EF%BC%8C%E7%84%B6%E5%90%8E%E8%BE%93%E5%85%A5%E5%91%BD%E4%BB%A4kill%20-HUP%20%E8%BF%9B%E7%A8%8B%E5%8F%B7%EF%BC%8C%E5%AE%9E%E7%8E%B0%E9%87%8D%E5%90%AFnginx%E6%9C%8D%E5%8A%A1%E3%80%82",target:"_blank",rel:"noopener noreferrer"}},[t._v("linux如何重启nginx？"),n("OutboundLink")],1)])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("./nginx -s reload\n")])])]),n("h2",{attrs:{id:"部署https访问-nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#部署https访问-nginx"}},[t._v("#")]),t._v(" 部署HTTPS访问 (Nginx)")]),t._v(" "),n("blockquote",[n("p",[t._v("前置工作：购买域名，完成基本HTTP访问，申请免费的DV证书并通过验证（具体参考各云服务商教程）")])]),t._v(" "),n("ol",[n("li",[n("p",[t._v("下载证书，上传到你的服务器（你能找到就可以）")])]),t._v(" "),n("li",[n("p",[t._v("Nginx 重新装载SSL模块")])])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.jianshu.com/p/00b0f41274f9",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nginx解决配置SSL证书报错"),n("OutboundLink")],1)]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[t._v("./configure --prefix"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/local/nginx --with-http_stub_status_module --with-http_ssl_module\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n")])])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("进入nginx目录配置nginx.conf (找不到可以 whereis nginx)")])]),t._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# HTTPS server")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n\nserver "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       \tlisten       "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("443")]),t._v(" ssl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       \tserver_name  yourDomain.com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n       \tssl_certificate      /root/server.pem"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#你找的到就可以，注意这是绝对路径")]),t._v("\n       \tssl_certificate_key  /root/server.key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n       \tssl_session_cache    shared:SSL:1m"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下面配置这些抄过去就可以")]),t._v("\n      \tssl_session_timeout  5m"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n      \tssl_ciphers  ECDHE-RSA-AES128-GCM-SHA256:HIGH:"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("aNULL:"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("MD5:"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("RC4:"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("DHE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       \tssl_prefer_server_ciphers  on"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       \tssl_protocols TLSv1 TLSv1.1 TLSv1.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n       \tlocation / "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            \troot   html"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            \tindex  index.html index.htm"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t        proxy_pass http://127.0.0.1:3000/"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这一条是内部转发3000端口用的")]),t._v("\n       \t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# HTTP server")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置 HTTPS重定向~")]),t._v("\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     listen "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     server_name yourDomain.com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     rewrite ^"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(".*"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("$ https://yourDomain.com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ol",{attrs:{start:"4"}},[n("li",[t._v("重启nginx~")])])])}),[],!1,null,null,null);s.default=e.exports}}]);